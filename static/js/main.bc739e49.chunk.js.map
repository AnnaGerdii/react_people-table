{"version":3,"sources":["api/people.js","PersonName.js","highlightText.js","Person.js","PeopleTable.js","NewPerson.js","App.js","index.js"],"names":["people","name","sex","born","died","father","mother","PersonName","_ref","names","highlight","react_default","a","createElement","map","i","find","person","separator","length","Fragment","key","className","cn","Person--female","Person--male","text","split","RegExp","concat","part","toLowerCase","getHighlightedText","defaultProps","withRouter","clickHandler","highlightedPart","location","century","styledFields","personClassName","Person","Person--selected","pathname","replace","onClick","Object","keys","field","PeopleTable__cell","Person--born-before-1650","Person--age-above-65","includes","src_PersonName","sortHandler","query","match","history","inputText","visiblePeople","filter","_ref2","children","params","URLSearchParams","search","activeName","push","path","head","type","placeholder","onChange","event","input","target","value","set","delete","toString","get","item","src_Person","id","NewPerson","addPerson","_useState","useState","_useState2","slicedToArray","nameInput","setNameInput","_useState3","_useState4","motherSelected","setMotherSelected","_useState5","_useState6","fatherSelected","setFatherSelected","_useState7","_useState8","bornSelected","setBornSelected","_useState9","_useState10","diedSelected","setDiedSelected","_useState11","_useState12","setId","_useState13","_useState14","sexSelected","setSex","_useState15","_useState16","childrenInput","setChildrenInput","currentYear","Date","getFullYear","handleInputChange","setInputFunction","allowComma","pattern","trimLeft","handleSelect","selectFunction","isNumber","onSubmit","preventDefault","trim","age","Math","ceil","child","maxLength","required","toConsumableArray","Array","year","_ref3","_ref4","_ref5","htmlFor","checked","initialPeople","peopleFromServer","objectSpread2","sortedPeople","setPeople","handleAddingPerson","newPeople","parent","getSortedPeople","peopleArr","sort","person1","person2","localeCompare","reverse","react_router_dom","to","exact","activeClassName","react_router","render","src_NewPerson","src_PeopleTable","ReactDOM","src_App","test","document","getElementById"],"mappings":"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","file":"static/js/main.bc739e49.chunk.js","sourcesContent":["const people = [\n  {\n    name: 'Carolus Haverbeke',\n    sex: 'm',\n    born: 1832,\n    died: 1905,\n    father: 'Carel Haverbeke',\n    mother: 'Maria van Brussel',\n  },\n  {\n    name: 'Emma de Milliano',\n    sex: 'f',\n    born: 1876,\n    died: 1956,\n    father: 'Petrus de Milliano',\n    mother: 'Sophia van Damme',\n  },\n  {\n    name: 'Maria de Rycke',\n    sex: 'f',\n    born: 1683,\n    died: 1724,\n    father: 'Frederik de Rycke',\n    mother: 'Laurentia van Vlaenderen',\n  },\n  {\n    name: 'Jan van Brussel',\n    sex: 'm',\n    born: 1714,\n    died: 1748,\n    father: 'Jacobus van Brussel',\n    mother: 'Joanna van Rooten',\n  },\n  {\n    name: 'Philibert Haverbeke',\n    sex: 'm',\n    born: 1907,\n    died: 1997,\n    father: 'Emile Haverbeke',\n    mother: 'Emma de Milliano',\n  },\n  {\n    name: 'Jan Frans van Brussel',\n    sex: 'm',\n    born: 1761,\n    died: 1833,\n    father: 'Jacobus Bernardus van Brussel',\n    mother: null,\n  },\n  {\n    name: 'Pauwels van Haverbeke',\n    sex: 'm',\n    born: 1535,\n    died: 1582,\n    father: 'N. van Haverbeke',\n    mother: null,\n  },\n  {\n    name: 'Clara Aernoudts',\n    sex: 'f',\n    born: 1918,\n    died: 2012,\n    father: 'Henry Aernoudts',\n    mother: 'Sidonie Coene',\n  },\n  {\n    name: 'Emile Haverbeke',\n    sex: 'm',\n    born: 1877,\n    died: 1968,\n    father: 'Carolus Haverbeke',\n    mother: 'Maria Sturm',\n  },\n  {\n    name: 'Lieven de Causmaecker',\n    sex: 'm',\n    born: 1696,\n    died: 1724,\n    father: 'Carel de Causmaecker',\n    mother: 'Joanna Claes',\n  },\n  {\n    name: 'Pieter Haverbeke',\n    sex: 'm',\n    born: 1602,\n    died: 1642,\n    father: 'Lieven van Haverbeke',\n    mother: null,\n  },\n  {\n    name: 'Livina Haverbeke',\n    sex: 'f',\n    born: 1692,\n    died: 1743,\n    father: 'Daniel Haverbeke',\n    mother: 'Joanna de Pape',\n  },\n  {\n    name: 'Pieter Bernard Haverbeke',\n    sex: 'm',\n    born: 1695,\n    died: 1762,\n    father: 'Willem Haverbeke',\n    mother: 'Petronella Wauters',\n  },\n  {\n    name: 'Lieven van Haverbeke',\n    sex: 'm',\n    born: 1570,\n    died: 1636,\n    father: 'Pauwels van Haverbeke',\n    mother: 'Lievijne Jans',\n  },\n  {\n    name: 'Joanna de Causmaecker',\n    sex: 'f',\n    born: 1762,\n    died: 1807,\n    father: 'Bernardus de Causmaecker',\n    mother: null,\n  },\n  {\n    name: 'Willem Haverbeke',\n    sex: 'm',\n    born: 1668,\n    died: 1731,\n    father: 'Lieven Haverbeke',\n    mother: 'Elisabeth Hercke',\n  },\n  {\n    name: 'Pieter Antone Haverbeke',\n    sex: 'm',\n    born: 1753,\n    died: 1798,\n    father: 'Jan Francies Haverbeke',\n    mother: 'Petronella de Decker',\n  },\n  {\n    name: 'Maria van Brussel',\n    sex: 'f',\n    born: 1801,\n    died: 1834,\n    father: 'Jan Frans van Brussel',\n    mother: 'Joanna de Causmaecker',\n  },\n  {\n    name: 'Angela Haverbeke',\n    sex: 'f',\n    born: 1728,\n    died: 1734,\n    father: 'Pieter Bernard Haverbeke',\n    mother: 'Livina de Vrieze',\n  },\n  {\n    name: 'Elisabeth Haverbeke',\n    sex: 'f',\n    born: 1711,\n    died: 1754,\n    father: 'Jan Haverbeke',\n    mother: 'Maria de Rycke',\n  },\n  {\n    name: 'Lievijne Jans',\n    sex: 'f',\n    born: 1542,\n    died: 1582,\n    father: null,\n    mother: null,\n  },\n  {\n    name: 'Bernardus de Causmaecker',\n    sex: 'm',\n    born: 1721,\n    died: 1789,\n    father: 'Lieven de Causmaecker',\n    mother: 'Livina Haverbeke',\n  },\n  {\n    name: 'Jacoba Lammens',\n    sex: 'f',\n    born: 1699,\n    died: 1740,\n    father: 'Lieven Lammens',\n    mother: 'Livina de Vrieze',\n  },\n  {\n    name: 'Pieter de Decker',\n    sex: 'm',\n    born: 1705,\n    died: 1780,\n    father: 'Joos de Decker',\n    mother: 'Petronella van de Steene',\n  },\n  {\n    name: 'Joanna de Pape',\n    sex: 'f',\n    born: 1654,\n    died: 1723,\n    father: 'Vincent de Pape',\n    mother: 'Petronella Wauters',\n  },\n  {\n    name: 'Daniel Haverbeke',\n    sex: 'm',\n    born: 1652,\n    died: 1723,\n    father: 'Lieven Haverbeke',\n    mother: 'Elisabeth Hercke',\n  },\n  {\n    name: 'Lieven Haverbeke',\n    sex: 'm',\n    born: 1631,\n    died: 1676,\n    father: 'Pieter Haverbeke',\n    mother: 'Anna van Hecke',\n  },\n  {\n    name: 'Martina de Pape',\n    sex: 'f',\n    born: 1666,\n    died: 1727,\n    father: 'Vincent de Pape',\n    mother: 'Petronella Wauters',\n  },\n  {\n    name: 'Jan Francies Haverbeke',\n    sex: 'm',\n    born: 1725,\n    died: 1779,\n    father: 'Pieter Bernard Haverbeke',\n    mother: 'Livina de Vrieze',\n  },\n  {\n    name: 'Maria Haverbeke',\n    sex: 'm',\n    born: 1905,\n    died: 1997,\n    father: 'Emile Haverbeke',\n    mother: 'Emma de Milliano',\n  },\n  {\n    name: 'Petronella de Decker',\n    sex: 'f',\n    born: 1731,\n    died: 1781,\n    father: 'Pieter de Decker',\n    mother: 'Livina Haverbeke',\n  },\n  {\n    name: 'Livina Sierens',\n    sex: 'f',\n    born: 1761,\n    died: 1826,\n    father: 'Jan Sierens',\n    mother: 'Maria van Waes',\n  },\n  {\n    name: 'Laurentia Haverbeke',\n    sex: 'f',\n    born: 1710,\n    died: 1786,\n    father: 'Jan Haverbeke',\n    mother: 'Maria de Rycke',\n  },\n  {\n    name: 'Carel Haverbeke',\n    sex: 'm',\n    born: 1796,\n    died: 1837,\n    father: 'Pieter Antone Haverbeke',\n    mother: 'Livina Sierens',\n  },\n  {\n    name: 'Elisabeth Hercke',\n    sex: 'f',\n    born: 1632,\n    died: 1674,\n    father: 'Willem Hercke',\n    mother: 'Margriet de Brabander',\n  },\n  {\n    name: 'Jan Haverbeke',\n    sex: 'm',\n    born: 1671,\n    died: 1731,\n    father: 'Lieven Haverbeke',\n    mother: 'Elisabeth Hercke',\n  },\n  {\n    name: 'Anna van Hecke',\n    sex: 'f',\n    born: 1607,\n    died: 1670,\n    father: 'Paschasius van Hecke',\n    mother: 'Martijntken Beelaert',\n  },\n  {\n    name: 'Maria Sturm',\n    sex: 'f',\n    born: 1835,\n    died: 1917,\n    father: 'Charles Sturm',\n    mother: 'Seraphina Spelier',\n  },\n  {\n    name: 'Jacobus Bernardus van Brussel',\n    sex: 'm',\n    born: 1736,\n    died: 1809,\n    father: 'Jan van Brussel',\n    mother: 'Elisabeth Haverbeke',\n  },\n];\n\nexport default people;\n","import React from 'react';\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport { getHighlightedText } from './highlightText';\n\nconst PersonName = ({ names, highlight, people }) => (\n  <span>\n    {(names || []).map((name, i) => {\n      const { sex } = people.find(person => person.name === name) || {};\n      const separator = i < names.length - 1 ? ', ' : '';\n\n      return (\n        <React.Fragment key={name}>\n          <span\n            className={cn({\n              'Person--female': sex === 'f',\n              'Person--male': sex === 'm',\n            })}\n          >\n            {getHighlightedText(name, highlight)}\n          </span>\n          {name && separator}\n        </React.Fragment>\n      );\n    })}\n  </span>\n);\n\nPersonName.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    sex: PropTypes.string.isRequired,\n  })).isRequired,\n  names: PropTypes.arrayOf(PropTypes.string.isRequired),\n  highlight: PropTypes.string.isRequired,\n};\n\nPersonName.defaultProps = {\n  names: [],\n};\n\nexport default PersonName;\n","import React from 'react';\n\nexport const getHighlightedText = (text, highlight) => {\n  const parts = (text || '').split(new RegExp(`(${highlight})`, 'gi'));\n\n  return parts.map((part, i) => (\n    <span key={`${part + i}`}>\n      {part.toLowerCase() === highlight\n        ? <span className=\"highlighted\">{part}</span> : part}\n    </span>\n  ));\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport PersonName from './PersonName';\n\nconst Person\n  = ({ person, clickHandler, highlightedPart, people, location }) => {\n    const { century, name } = person;\n    const styledFields = ['name', 'children'];\n\n    const personClassName\n    = `${cn({\n      Person: true,\n      'Person--selected':\n        location.pathname === `/people/${name.replace(/\\s+/g, '-')\n          .toLowerCase()}`,\n    })} Person--lived-in-${century}`;\n\n    return (\n      <tr\n        onClick={() => clickHandler(name)}\n        className={personClassName}\n      >\n        {Object.keys(person).map(field => (\n          <td\n            key={field}\n            className={cn({\n              PeopleTable__cell: true,\n              'Person--male': field === 'father',\n              'Person--female': field === 'mother',\n              'Person--born-before-1650': field === 'born'\n              && person[field] < 1650,\n              'Person--age-above-65': field === 'age' && person[field] >= 65,\n            })}\n          >\n            {styledFields.includes(field)\n              ? (\n                <PersonName\n                  names={typeof person[field] === 'string'\n                    ? [person[field]] : person[field]}\n                  highlight={highlightedPart}\n                  people={people}\n                />\n              )\n              : person[field]}\n          </td>\n        ))}\n      </tr>\n    );\n  };\n\nPerson.propTypes = {\n  clickHandler: PropTypes.func.isRequired,\n  highlightedPart: PropTypes.string.isRequired,\n  person: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    sex: PropTypes.string.isRequired,\n    born: PropTypes.number.isRequired,\n    died: PropTypes.number.isRequired,\n    age: PropTypes.number.isRequired,\n    father: PropTypes.string,\n    mother: PropTypes.string,\n    century: PropTypes.number.isRequired,\n  }).isRequired,\n  people: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default withRouter(Person);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport Person from './Person';\n\nconst PeopleTable\n  = ({ people, sortHandler, query, match, history, location }) => {\n    const inputText = query.toLowerCase();\n    const visiblePeople = people\n      .filter(({ mother, father, name, children }) => (\n        (mother + father + name + children).toLowerCase().includes(inputText)\n      ));\n\n    const params = new URLSearchParams(location.search);\n    const activeName = location.pathname.replace('/people', '');\n\n    const inputHandler = (event) => {\n      const input = event.target.value.replace(/^\\s+/, '');\n\n      params.set('query', `${input}`);\n      if (!input) {\n        params.delete('query');\n      }\n\n      history.push({ search: `?${params.toString()}` });\n    };\n\n    const clickHandler = (name) => {\n      history.push({\n        pathname: `${match.path}/${name.replace(/\\s+/g, '-').toLowerCase()}`,\n        search: location.search,\n      });\n    };\n\n    const head = Object.keys(people[0]);\n\n    return (\n      <>\n        <input\n          type=\"text\"\n          className=\"input\"\n          placeholder=\"Search by name\"\n          onChange={inputHandler}\n          value={(params.get('query') || '')}\n        />\n        <table className=\"PeopleTable\">\n          <thead>\n            <tr>\n              {head.map(item => (\n                <th\n                  key={item}\n                  className=\"PeopleTable__head-item\"\n                >\n                  <button\n                    className=\"button\"\n                    type=\"button\"\n                    onClick={() => (\n                      sortHandler(item, `${match.path}${activeName}`)\n                    )}\n                  >\n                    {item}\n                  </button>\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {visiblePeople.map(person => (\n              <Person\n                key={person.id}\n                person={person}\n                people={people}\n                highlightedPart={inputText}\n                clickHandler={clickHandler}\n              />\n            ))\n            }\n          </tbody>\n        </table>\n      </>\n    );\n  };\n\nPeopleTable.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  query: PropTypes.string.isRequired,\n  sortHandler: PropTypes.func.isRequired,\n  history: PropTypes.shape({\n    location: PropTypes.shape({}).isRequired,\n  }).isRequired,\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n  match: PropTypes.shape({\n    path: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default withRouter(PeopleTable);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\n\nconst NewPerson = ({ addPerson, people }) => {\n  const [nameInput, setNameInput] = useState('');\n  const [motherSelected, setMotherSelected] = useState('');\n  const [fatherSelected, setFatherSelected] = useState('');\n  const [bornSelected, setBornSelected] = useState('');\n  const [diedSelected, setDiedSelected] = useState('');\n  const [id, setId] = useState(40);\n  const [sexSelected, setSex] = useState('f');\n  const [childrenInput, setChildrenInput] = useState('');\n\n  const currentYear = new Date().getFullYear();\n\n  const handleInputChange = (event, setInputFunction, allowComma) => {\n    const pattern = allowComma ? /[^\\sa-z,]/gi : /[^\\sa-z]/gi;\n\n    setInputFunction(event.target.value.replace(pattern, '').trimLeft());\n  };\n\n  const handleSelect = (event, selectFunction, isNumber) => {\n    selectFunction(isNumber ? +event.target.value : event.target.value);\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    addPerson({\n      id,\n      name: nameInput.trim(),\n      sex: sexSelected,\n      born: bornSelected,\n      died: diedSelected || '',\n      father: fatherSelected,\n      mother: motherSelected,\n      age: (diedSelected || currentYear) - bornSelected,\n      century: Math.ceil((diedSelected || currentYear) / 100),\n      children: childrenInput.split(',').map(child => child.trim()),\n    });\n\n    setNameInput('');\n    setSex('');\n    setBornSelected(0);\n    setDiedSelected(0);\n    setMotherSelected('');\n    setFatherSelected('');\n    setId(id + 1);\n    setChildrenInput('');\n  };\n\n  return (\n    <>\n      <form\n        className=\"form\"\n        onSubmit={handleSubmit}\n      >\n        <input\n          className=\"input\"\n          type=\"text\"\n          value={nameInput}\n          placeholder=\"Enter the name\"\n          maxLength={30}\n          onChange={event => handleInputChange(event, setNameInput)}\n          required\n        />\n\n        <div className=\"form__field\">\n          <select\n            className=\"input input_select\"\n            onChange={event => handleSelect(event, setBornSelected, true)}\n            value={bornSelected}\n            required\n          >\n            {<option value=\"\">Birth Year</option>}\n            {[...Array(320).keys()]\n              .map(year => (\n                <option key={year}>{year + 1700}</option>\n              ))}\n          </select>\n\n          <select\n            className=\"input input_select\"\n            onChange={event => handleSelect(event, setDiedSelected, true)}\n            value={diedSelected}\n            required\n          >\n            {bornSelected > currentYear - 150\n              ? <option value={0}>N/A</option>\n              : <option value=\"\">Death Year</option>}\n            {bornSelected && [...Array(150).keys()]\n              .map((year) => {\n                if (year + bornSelected > currentYear) {\n                  return null;\n                }\n\n                return (\n                  <option key={year}>{year + bornSelected}</option>\n                );\n              })}\n          </select>\n        </div>\n\n        <div className=\"form__field\">\n          <select\n            className=\"input input_select\"\n            onChange={event => handleSelect(event, setMotherSelected)}\n            value={motherSelected}\n            required=\"required\"\n          >\n            {<option value=\"\">Choose the mother</option>}\n            {bornSelected && people\n              .filter(({ sex, died }) => sex === 'f' && died >= bornSelected)\n              .map(({ name }) => (\n                <option key={name}>{name}</option>\n              ))}\n          </select>\n\n          <select\n            className=\"input input_select\"\n            onChange={event => handleSelect(event, setFatherSelected)}\n            value={fatherSelected}\n            required=\"required\"\n          >\n            {<option value=\"\">Choose the father</option>}\n            {bornSelected && people\n              .filter(({ sex, died }) => sex === 'm' && died >= bornSelected)\n              .map(({ name }) => (\n                <option key={name}>{name}</option>\n              ))}\n          </select>\n        </div>\n\n        <div className=\"form__field form__field_sex\">\n          <label htmlFor=\"f\">\n            <input\n              type=\"radio\"\n              id=\"f\"\n              value=\"f\"\n              onChange={event => handleSelect(event, setSex)}\n              checked={sexSelected === 'f'}\n            />\n              female\n          </label>\n          <label htmlFor=\"m\">\n            <input\n              type=\"radio\"\n              id=\"m\"\n              value=\"m\"\n              onChange={event => handleSelect(event, setSex)}\n              checked={sexSelected === 'm'}\n              required=\"required\"\n            />\n              male\n          </label>\n        </div>\n\n        <input\n          className=\"input\"\n          type=\"text\"\n          value={childrenInput}\n          placeholder=\"Enter children's names\"\n          maxLength={100}\n          onChange={event => handleInputChange(event, setChildrenInput, true)}\n          required\n        />\n\n        <button\n          className=\"button button_form\"\n          type=\"submit\"\n        >\n            Add\n        </button>\n      </form>\n    </>\n  );\n};\n\nNewPerson.propTypes = {\n  people: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    sex: PropTypes.string.isRequired,\n  })).isRequired,\n  addPerson: PropTypes.func.isRequired,\n};\n\nexport default NewPerson;\n","import React, { useState } from 'react';\nimport { Route, NavLink, withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport peopleFromServer from './api/people';\nimport PeopleTable from './PeopleTable';\nimport './app.scss';\nimport NewPerson from './NewPerson';\n\nconst initialPeople = peopleFromServer\n  .map((person, i) => ({\n    id: i + 1,\n    ...person,\n    age: person.died - person.born,\n    century: Math.ceil(person.died / 100),\n    children: peopleFromServer\n      .filter(child => child.mother === person.name\n        || child.father === person.name)\n      .map(child => child.name),\n  }));\n\nconst App = ({ history, location }) => {\n  const [people, setPeople] = useState([...initialPeople]);\n\n  const handleAddingPerson = (person) => {\n    const newPeople = [...people, person].map(parent => (\n      {\n        ...parent,\n        children: (person.father + person.mother).includes(parent.name)\n          ? [...parent.children, person.name]\n          : parent.children,\n      }));\n\n    setPeople(newPeople);\n\n    history.push({ pathname: '/people' });\n  };\n\n  const params = new URLSearchParams(location.search);\n\n  const sortHandler = (field) => {\n    if (params.get('sortBy') === field) {\n      params.set('sortOrder',\n        params.get('sortOrder') === 'asc' ? 'desc' : 'asc');\n    } else {\n      params.set('sortOrder', 'asc');\n    }\n\n    params.set('sortBy', `${field}`);\n    history.push({ search: `?${params.toString()}` });\n  };\n\n  const getSortedPeople = (peopleArr, field) => (\n    peopleArr.sort((person1, person2) => {\n      if (!person1[field]) {\n        return 1;\n      }\n\n      if (!person2[field]) {\n        return -1;\n      }\n\n      switch (typeof person1[field]) {\n        case 'string':\n          return person1[field].localeCompare(person2[field]);\n        default:\n          return person1[field] - person2[field];\n      }\n    })\n  );\n\n  let sortedPeople;\n\n  switch (params.get('sortOrder')) {\n    case 'asc':\n      sortedPeople = getSortedPeople([...people], params.get('sortBy'));\n      break;\n    case 'desc':\n      sortedPeople\n        = getSortedPeople([...people], params.get('sortBy')).reverse();\n      break;\n    default:\n      sortedPeople = [...people];\n  }\n\n  return (\n    <div className=\"App\">\n      <NavLink\n        to=\"/people\"\n        exact\n        className=\"nav__link\"\n        activeClassName=\"nav__item_active\"\n      >\n               People\n      </NavLink>\n      <Route\n        path=\"/people\"\n        render={match => (\n          <>\n            <Route\n              path=\"/people/new\"\n              render={() => (\n                <NewPerson\n                  people={people}\n                  addPerson={handleAddingPerson}\n                />\n              )}\n            />\n            {location.pathname !== '/people/new' && (\n              <>\n                <NavLink\n                  to=\"/people/new\"\n                  exact\n                  className=\"nav__link\"\n                  activeClassName=\"nav__item_active\"\n                >\n                  New Person\n                </NavLink>\n                <PeopleTable\n                  match={match}\n                  people={sortedPeople}\n                  query={(params.get('query') || '')}\n                  sortHandler={sortHandler}\n                  handleAddingPerson={handleAddingPerson}\n                />\n              </>\n            )}\n          </>\n        )}\n      />\n    </div>\n  );\n};\n\nApp.propTypes = {\n  history: PropTypes.shape({\n    location: PropTypes.shape({}).isRequired,\n  }).isRequired,\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n};\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <HashRouter>\n    <App test={123} />\n  </HashRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}